<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Pizzaria Rod√≠zio - Sistema de Pedidos</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üçï Pizzaria Rod√≠zio</h1>
            <p class="data-atual" id="dataAtual"></p>
        </header>

        <!-- Abas de Navega√ß√£o -->
        <div class="abas">
            <button class="aba-btn ativa" onclick="mostrarAba('pedidos')">Pedidos</button>
            <button class="aba-btn" onclick="mostrarAba('configuracoes')">Configura√ß√µes</button>
            <button class="aba-btn" onclick="mostrarAba('relatorios')">Relat√≥rios</button>
            <button class="aba-btn" onclick="mostrarAba('backup')">Backup</button>
        </div>

        <!-- ABA PEDIDOS -->
        <div id="abaPedidos" class="aba-conteudo ativa">
            <div class="painel-pedido">
                <h2>Novo Pedido</h2>
                <form id="formPedido" onsubmit="event.preventDefault(); criarPedido();">
                    <div class="form-grupo">
                        <label>Tipo:</label>
                        <select id="tipoSabor" onchange="carregarSaboresPorTipo()" required>
                            <option value="">Selecione</option>
                            <option value="doce">Doce</option>
                            <option value="salgada">Salgada</option>
                        </select>
                    </div>

                    <div class="form-grupo">
                        <label>Sabor:</label>
                        <select id="saborPedido" required>
                            <option value="">Selecione um sabor</option>
                        </select>
                    </div>

                    <div class="form-grupo">
                        <label>Gar√ßom:</label>
                        <select id="garcomPedido" required>
                            <option value="">Selecione</option>
                        </select>
                    </div>

                    <div class="form-grupo">
                        <label>Mesa:</label>
                        <input type="number" id="mesaPedido" min="1" value="1" required>
                    </div>

                    <button type="submit" class="btn-principal">Confirmar Pedido</button>
                </form>
            </div>

            <div class="fila-pedidos">
                <h2>Fila de Pedidos</h2>
                
                <div class="filtros">
                    <button class="filtro-btn ativo" onclick="filtrarPedidos('pendentes')">Pendentes</button>
                    <button class="filtro-btn" onclick="filtrarPedidos('concluidos')">Conclu√≠dos</button>
                    <button class="filtro-btn" onclick="filtrarPedidos('todos')">Todos</button>
                </div>

                <div id="listaPedidos" class="lista-pedidos">
                    <!-- Pedidos ser√£o inseridos aqui dinamicamente -->
                </div>
            </div>
        </div>

        <!-- ABA CONFIGURA√á√ïES -->
        <div id="abaConfiguracoes" class="aba-conteudo">
            <div class="config-section">
                <h2>Sabores</h2>
                
                <form id="formSabor" onsubmit="event.preventDefault(); adicionarSabor();">
                    <div class="form-grupo">
                        <input type="text" id="nomeSabor" placeholder="Nome do sabor" required>
                    </div>
                    <div class="form-grupo">
                        <select id="tipoSaborConfig" required>
                            <option value="doce">Doce</option>
                            <option value="salgada">Salgada</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-principal">Adicionar Sabor</button>
                </form>

                <div id="listaSabores" class="lista-itens">
                    <!-- Sabores ser√£o inseridos aqui -->
                </div>
            </div>

            <div class="config-section">
                <h2>Gar√ßons</h2>
                
                <form id="formGarcom" onsubmit="event.preventDefault(); adicionarGarcom();">
                    <div class="form-grupo">
                        <input type="text" id="nomeGarcom" placeholder="Nome do gar√ßom" required>
                    </div>
                    <button type="submit" class="btn-principal">Adicionar Gar√ßom</button>
                </form>

                <div id="listaGarcons" class="lista-itens">
                    <!-- Gar√ßons ser√£o inseridos aqui -->
                </div>
            </div>
        </div>

        <!-- ABA RELAT√ìRIOS -->
        <div id="abaRelatorios" class="aba-conteudo">
            <div class="relatorio-actions">
                <button class="btn-principal" onclick="encerrarNoite()">Encerrar Noite</button>
                <button class="btn-secundario" onclick="carregarRelatorioNoite()">Atualizar Relat√≥rio</button>
            </div>

            <div class="relatorio-section">
                <h2>Totais da Noite</h2>
                <div id="totaisNoite" class="cards-container">
                    <!-- Cards com totais -->
                </div>
            </div>

            <div class="relatorio-section">
                <h2>Tempo M√©dio: <span id="tempoMedio">0</span> min</h2>
                <canvas id="graficoPedidos"></canvas>
            </div>

            <div class="relatorio-section">
                <h2>Top 5 Sabores</h2>
                <div id="topSabores" class="ranking-lista"></div>
            </div>

            <div class="relatorio-section">
                <h2>Ranking de Gar√ßons</h2>
                <div id="rankingGarcons" class="ranking-lista"></div>
            </div>

            <div class="relatorio-section">
                <h2>Estat√≠sticas Gerais</h2>
                <div id="estatisticasGerais" class="cards-container"></div>
            </div>
        </div>

        <!-- ABA BACKUP -->
        <div id="abaBackup" class="aba-conteudo">
            <div class="backup-section">
                <h2>Exportar Dados</h2>
                <p>Fa√ßa o download de todos os dados do sistema</p>
                <button class="btn-principal" onclick="exportarDados()">Download JSON</button>
            </div>

            <div class="backup-section">
                <h2>Importar Dados</h2>
                <p>Restaurar dados de um arquivo JSON</p>
                <input type="file" id="importarArquivo" accept=".json" style="margin-bottom: 1rem;">
                <button class="btn-principal" onclick="importarDados()">Importar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
  </html>
